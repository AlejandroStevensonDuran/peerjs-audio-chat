<!DOCTYPE html>
<html>
<head>
  <title>Peer.js Test</title>
  <style>
    body {
      font: 16px/22px Verdana;
    }

    button {
      display: none;
    }
    
    .disconnected #js-connect-button,
    .connected #js-diconnect-button {
      display: block;
    }
  </style>
</head>
<body class="disconnected">
  <p>
    <button id="js-connect-button">Connect</button>
    <button id="js-diconnect-button">Disconnect</button>
  </p>
  <p>Status: <span id="js-status"></span></p>
  <p>ID: <span id="js-my-id"></span></p>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="http://cdn.peerjs.com/0.3/peer.js"></script>
  <script>
    var statusElem = $('#js-status');
    var status;

    var apiKey = 'nc9w35chkyrmgqfr';
    var others = [];
    var me;

    $('#js-connect-button').click(connect);
    $('#js-disconnect-button').click(disconnect);

    setStatus('disconnected');

    function connect() {
      setStatus('connecting...');

      me = new Peer({key: apiKey});
      me.on('open', function(id) {
        setStatus('open');
        $('#js-my-id').html(id);
      });
    }

    function disconnect() {

    }

    function setStatus(newStatus) {
      if (newStatus === status) return;
      status = newStatus;
      statusElem.html(newStatus);
    }
  </script>
</body>
</html>